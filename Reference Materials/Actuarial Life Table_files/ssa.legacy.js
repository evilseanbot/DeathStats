if(jQuery){var $document=$(document),$window=$(window),$legacyNav=$("#nav-site"),$legacySidebar=$("#content").find(".sidebar-nav"),$keyboard,urlPath=window.location.pathname,urlFile=urlPath.substring(urlPath.lastIndexOf("/")+1);$legacySidebar&&(urlFile?$legacySidebar.find("a[href$='"+urlPath+"']").addClass("on"):$legacySidebar.find("a").eq(0).addClass("on"));var legacyMenu={load:function(){function a(a){27===a.keyCode&&$legacyNav.find("a.on").focus(),d.removeClass("show"),$legacyNav.find("a.on").removeClass("on")}var b=$legacyNav.find("> ul > li"),c=b.find("> a"),d=b.find("> div"),e=d.find("a");c.on("keydown",function(){$keyboard=!0}),$document.on("click",function(){c.removeClass("on"),d.removeClass("show")}),c.on("click",function(a){a.stopPropagation(),a.preventDefault();var b=$(this),e=b.attr("href"),f=b.next("div");"#"!==e?window.location=e:b.hasClass("on")?(b.removeClass("on"),f.removeClass("show")):(c.removeClass("on"),d.removeClass("show"),b.addClass("on"),f.addClass("show"),$keyboard&&f.find("a").filter(":first").focus())}),e.on("keydown",function(b){27===b.keyCode&&a(b)}),d.find("a:first").on("keydown",function(b){b.shiftKey&&9===b.keyCode&&a(b)}),d.find("a:last").on("keydown",function(b){9===b.keyCode&&(b.shiftKey||a(b))})}};$legacyNav&&legacyMenu.load();var $legacyCarousel=$("#content").find("#carousel, #carousel-fade, #carousel-slider");$legacyCarousel.addClass("legacy-carousel");var legacyCarousel={load:function(){function a(){j=setInterval(function(){i=q.filter(".on").prevAll().length,g=i===h-1?!0:!1,i=i===h-1?0:i+1,b(i,g)},o)}function b(a,b){if(b&&(clearInterval(j),$legacyCarousel.off("mouseleave")),$noTransitions&&"fade"===k&&(d.filter(".on").find(".caption").animate({opacity:"0"},100,"linear",function(){$(this).parent().animate({opacity:"0"},500,"linear")}),d.eq(a).animate({opacity:"1"},500,"linear",function(){c.eq(a).animate({opacity:".8"},500,"linear")})),"slider"===k){if($noTransitions){var f=a;f="-"+100*f+"%",e.animate({marginLeft:f},500)}e.removeAttr("class").addClass("slide-"+(a+1))}d.filter(".on").removeClass("on").end().attr("tabindex","-1").eq(a).addClass("on").attr("tabindex","0"),q.filter(".on").removeClass("on").end().eq(a).addClass("on"),$keyboard&&("slider"===k?setTimeout(function(){d.filter(".on").focus()},750):d.filter(".on").focus())}var c,d,e,f,g,h,i,j,k,l=$legacyCarousel.attr("id"),m=$("<nav />"),n="",o=1e3*$legacyCarousel.attr("data-timer")||1e4;"carousel-fade"===l?(d=$legacyCarousel.find("> div a"),c=d.find("> div"),k="fade"):"carousel-slider"===l?(f=$legacyCarousel.find("> div"),e=f.find("> div"),d=e.find("a"),c=d.find("> div"),k="slider"):(d=$legacyCarousel.find("> div > a"),k="basic"),h=d.length;for(var p=-1;++p<h;)n+="<a href='#'>"+(p+1)+"</a>";m.append(n),$legacyCarousel.append(m);var q=m.find("a");q.eq(0).addClass("on"),d.not(":first").attr("tabindex","-1"),d.eq(0).addClass("on").attr("tabindex","0"),$noOpacity&&("slider"===k?c.css("opacity",".8"):"fade"===k&&(d.not(":first").css("opacity","0"),c.css("opacity",".8"))),$legacyCarousel.on("mouseenter",function(){clearInterval(j)}),$legacyCarousel.on("mouseleave",function(){a()}),d.on("focus",function(){clearInterval(j)}),q.on("click",function(a){a.preventDefault(),i=$(this).prevAll().length,b(i,!0)}),a(),$legacyCarousel.css("visibility","visible")}};$legacyCarousel.length&&legacyCarousel.load()}